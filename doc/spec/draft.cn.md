# Abstract Coded Designing Markup Language Alpha Edition Draft Specification

## Introduction

这是一份关于ABCDML（Abstract Coded Designing Markup Language，作为这么技术的代称时亦可简写为A4L） Alpha的标准草案。ABCDML Alpha是一个完全处于全新设计中的版本，没有兼容性问题，这使得本案所有内容都不具有稳定性。

ABCDML被设计为是一个主要面向非程序员的程序设计标记语言。它的侧重点在UI（User interface）布局，但允许使用者通过申明对辅助函数的调用来实现简单交互。

原则上，A4L不建议被用来开发功能复杂的、交互性极强的App，开发者应当把主要精力放在布局设计和基础交互设计上，而不要过多的考虑逻辑问题。标准库和官方框架以及社区会为开发者提供常用场景所需的交互逻辑组件和函数。考虑到极端情况，A4L保留了开发者使用自定义函数来强化应用功能的可行性，但这仍旧不是被建议的解决方案。本案的建议是，偏业务和偏业务的应用开发应当选择更适合它的开发语言。

实际开发中，.abcdml文档主要是充当隐式源文件的作用，文件中的ABCDML（作为语言本身时不简写）内容主要用作开发的中间数据和存储数据，开发者真正面对的是集成开发工具的可视化界面。这是出于对开发者的非程序员身份的考量。如非必要，开发者不需要真正的去编辑ABCDML。但一般而言，了解A4L的语法和思想，有助于开发、调试你的A4L应用程序。

## Scoop

这份标准草案定义了A4L的词法、语法和辅助库的开发与使用，并描述了抽象语法应当呈现出的布局与交互。

本标准草案不对目标语言及其下的A4L运行时框架进行定义和要求，只要它所实现的应用布局与交互体验能同A4L抽象语法树一一对应便可，本案不会关心和约束它的实现细节。

## Overview

这一章主要介绍A4L应用程序的组成，开发与实现，整个标准草案其他章节的内容都不能与本章冲突。

### Composition

A4L是一个面对组件的程序设计语言。

A4L组件是A4L的基本单元（非最小单元），任何复杂的A4L应用程序都由一个或多个A4L组件组合而成，编写A4L程序的核心过程可以简单概括为组件的定义和组织。

定义一个A4L组件我们需要定义他的各个属性。这些属性的名称都是字符串，这个不用赘述；属性的值则主要包括三种类型，组件实例、标量和辅助函数的调用申明。

广义上，组件可细分为纯组件、数据模型组件和可视化数据组件，对应的他们实例则被称为静态元素、状态和动态元素；狭义上组件多指可视化组件，即纯组件和可视化数据组件，他们的实例则统称为元素（如无特别说明，后文中的元素皆指组件的可视化实例），与之对应数据模型组件则简称为模型。如何区分这些组件，将在组件章节详细说明。

标量可细分为字符串、数值、布尔值和空值，其中字符串还可再次细分为多种子类型，我们将在字符串章节作详细说明。

标量都以字符串的形式存在，在编译或解释时才进行类型判定。

辅助函数主要用来帮助开发者处理一些数据，是应用程序具备交互能力。辅助函数的定义和实现不属于A4L的描述范畴，但辅助函数的调用申明是A4L的基本类型之一，我们视辅助函数为A4L的组成部分，故将其一同规范与在本案中。

完整版本的A4L实现环境必须对辅助函数进行支持，且必须保证与本文档的描述的表现一致。

### Development

如上一节所提到的，开发A4L主要就是合理的设计组件并将他们组织起来，而组织组件的形式其实是设计更高层的组件，归根结底设计A4L程序就是设计A4L的各层组件，也就是编写ABCDML文档。

理论上，任何人可以使用任何文字编辑软件来编写ABCDML。但由于A4L主要面向于非程序员，更准确的说是面向UI设计师，所以A4L在设计之初就将可视化集成开发工具考虑进来，从词法和语法设计上就为集成工具的实现作了准备。这些包括但不限于方便开发工具做检查的子类型系统和便于开发工具作调试功能的监控模块。这些特性是运行环境可以忽略的特性，完全是设计用来开发和调试的。本案正文章节中提及的调试方案是生产环境的调试方案，关于使用监控模块调试的方法将在附录中做一些建议，但这些并不是A4L标准的一部分。

但是，即便ABCDML本身包含了有利于开发工具提升效率的特性，开发工具并不是A4L的一部分，即便是官方的发布的集成工具仍旧也只是额外的辅助工具。本案将在附录中提出一些关于开发工具设计的建议，这些建议并非强制建议，但遵循它，更有利于实现一个良好运作的A4L开发工具。


### Implementation

A4L是申明式的程序设计语言。语言本身不具备直接执行的能力，可编译到其他语言执行，也可由其他语言来解释执行。


<!-- 每个A4L程序的顶层都只有两个组件，一个根元素组件 -->